<!doctype html>
<html>

<head>
    <meta charset="utf-8">
    <title>Graph Visualization with Cytoscape</title>
    <link rel="stylesheet" href="styles/main.css">
    <link rel="stylesheet" type="text/css" href="https://unpkg.com/@atlassian/aui@9.1/dist/aui/aui-prototyping.css" />

    <script src="data/treeNetwork.js"></script>
    <script src="data/clusterNetwork.js"></script>
    <script src="scripts/styles.js"></script>
    <script src="scripts/layouts.js"></script>

    <script src="scripts/cytoscape.min.js"></script>
    <script src="https://unpkg.com/jquery@3.1.1/dist/jquery.min.js"></script>

    <script src="https://unpkg.com/layout-base/layout-base.js"></script>
    <script src="https://unpkg.com/cose-base/cose-base.js"></script>
    <script src="https://unpkg.com/cytoscape-fcose/cytoscape-fcose.js"></script>

    <style>
        .graph {
            width: 100%;
            height: 100%;
            position: absolute;
            left: 0;
            top: 2;
        }
    </style>
</head>

<body>
    <div class="aui-buttons" class="buttons">
        <button class="aui-button" id="switchGraphs" onClick="switchGraph()">View Developer Cluster</button>
    </div>

    <!-- Actual Cytoscape.js Instance -->
    <div class="graph" id="cyTr"></div>
    <div class="graph" id="cyCl" style="display: none;"></div>
    <script>
        var cyTr = cytoscape({
            container: document.getElementById('cyTr'),
            elements: treeNetwork,
            layout: treeLayout,
            style: treeStyle,
            zoomingEnabled: true
        });
        var cyCl = cytoscape({
            container: document.getElementById('cyCl'),
            elements: clusterNetwork,
            layout: clusterLayout,
            style: clusterStyle,
            zoomingEnabled: true
        });
        $(document).ready(function () {
            // Open the "href" node attribute on click
            cyTr.on('tap', 'node', function () {
                try { // browser may block popups
                    window.open(this.data('href'));
                } catch (e) { // fall back on url change
                    window.location.href = this.data('href');
                }
            });
        });
        $(window).ready(function () {
            cyTr.on('resize', function (event) {
                cyTr.center();
                cyTr.fit();
            });
            cyCl.on('resize', function (event) {
                cyCl.center();
                cyCl.fit();
            });
        });
    </script>

    <script src="https://connect-cdn.atl-paas.net/all.js"></script>
    <script src="scripts/util.js"></script>
</body>

</html>