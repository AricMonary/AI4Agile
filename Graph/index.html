<!doctype html>
<html>

<head>
    <meta charset="utf-8">
    <title>Relationship Visualization Graph</title>
    <meta name="description" content="Relationship Visualization Graph for agile development projects">
    <!--meta name="viewport" content="width=device-width, initial-scale=1.0"-->
    <link rel="stylesheet" href="styles/main.css">
    <link rel="stylesheet" type="text/css" href="https://unpkg.com/@atlassian/aui@9.1/dist/aui/aui-prototyping.css" />

    <script src="data/network.js"></script>
    <!--script src="styles/style.js"></script-->

    <!--script src="scripts/cytoscape.min.js"></script-->
    <script src="https://unpkg.com/cytoscape/dist/cytoscape.min.js"></script>
    <script src="https://unpkg.com/jquery@3.1.1/dist/jquery.min.js"></script>
    <!--script src="scripts/index.js"></script-->

    <style>
        #cy {
            width: 100%;
            height: 100%;
            position: absolute;
            left: 0;
            top: 2;
            z-index: 999;
        }
    </style>

</head>

<body>
    <div class="aui-buttons" class="buttons">
        <button class="aui-button" id="switchGraphs" onClick="switchGraphButtonName()">Click to view Developer
            Cluster</button>
    </div>

    <!-- Actual Cytoscape.js Instance -->
    <div id="cy"></div>
    <script>
        var cy = cytoscape({
            container: document.getElementById('cy'),
            elements: network,
            layout: {
                name: 'breadthfirst',
                fit: true, // whether to fit the viewport to the graph
                padding: 10, // padding on fit
                avoidOverlap: true, // prevents node overlap, may overflow boundingBox if not enough space
                spacingFactor: 1.75 // positive spacing factor, larger => more space between nodes
            },
            style: [
                {
                    "selector": "node[type = 'Task']",
                    "css": {
                        "background-color": "rgb(43,156,204)"
                    }
                },
                {
                    "selector": "node[type = 'Epic']",
                    "css": {
                        "background-color": "rgb(121,70,232)"
                    }
                },
                {
                    "selector": "node[type = 'Story']",
                    "css": {
                        "background-color": "rgb(91,196,29)"
                    }
                },
                {
                    "selector": "node:selected",
                    "css": {
                        "background-color": "rgb(112,112,112)"
                    }
                },
                {
                    "selector": "edge",
                    "css": {
                        "font-family": "sans-serif",
                        "font-weight": "normal",
                        "line-color": "rgb(132,132,132)",
                        "target-arrow-color": "rgb(132,132,132)",
                        "source-arrow-shape": "none",
                        "line-style": "solid",
                        "color": "rgb(0,0,0)",
                        "source-arrow-color": "rgb(0,0,0)",
                        "opacity": 1.0,
                        "content": "",
                        "target-arrow-shape": "triangle",
                        "font-size": 10,
                        "width": 2.0,
                        "text-opacity": 1.0
                    }
                },
                {
                    "selector": "edge:selected",
                    "css": {
                        "line-color": "rgb(0,0,0)"
                    }
                }
            ],
            zoomingEnabled: true,
            maxZoom: 1.6,
            minZoom: 0.96
        });
        $(document).ready(function () {
            // Open the "href" node attribute on click
            cy.on('tap', 'node', function () {
                try { // your browser may block popups
                    window.open(this.data('href'));
                } catch (e) { // fall back on url change
                    window.location.href = this.data('href');
                }
            });
        });
    </script>
    <!--script src="scripts/custom.js"></script-->
    <script src="https://connect-cdn.atl-paas.net/all.js"></script>
    <script src="scripts/util.js"></script>
</body>

</html>